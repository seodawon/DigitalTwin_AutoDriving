# DigitalTwin_AutoDriving

### ROKEY 3ê¸° ë””ì§€í„¸ íŠ¸ìœˆ ê¸°ë°˜ ì„œë¹„ìŠ¤ ë¡œë´‡ ìš´ì˜ ì‹œìŠ¤í…œ êµ¬ì„±
- í”„ë¡œì íŠ¸ ê¸°ê°„: 2025.06.23 ~ 2025.07.04 (12ì¼)
- ì°¸ì—¬ì¸ì›: 4ëª…

<br>

## ğŸ¥ í”„ë¡œì íŠ¸ ì†Œê°œ
[![Video Label](https://youtu.be/Hx4QYD4sLv0/0.jpg)](https://youtu.be/Hx4QYD4sLv0)
  â¡ ì˜ìƒ í´ë¦­ ì‹œ, youtube ì¬ìƒ
  
**vF1**ì€ **ë„ë¡œ í™˜ê²½ ìš”ì†Œ ì¸ì‹**ê³¼ ë¬¼ë¦¬ì  **ì¥ì• ë¬¼ ì œê±°**ë¥¼ ìˆ˜í–‰í•˜ëŠ” **ë””ì§€í„¸ íŠ¸ìœˆ ê¸°ë°˜ ììœ¨ì£¼í–‰ ì‹œìŠ¤í…œ**ì…ë‹ˆë‹¤.
- **TurtleBot3 Burger (Jetson Orin)**, **OpenMANIPULATOR-X**, **Logitech C270 ì›¹ìº **,
**OpenCV**, **PyQt5 ê¸°ë°˜ GUI ì œì–´**, **ROS2 Humble**
- ì‹ í˜¸ë“±/ì°¨ë‹¨ë°”/í‘œì§€íŒ ì¸ì‹ â†’ ê²½ë¡œ/ì†ë„/ì •ì§€ ì œì–´ê¹Œì§€ ì‹¤ì‹œê°„ ì£¼í–‰ ì œì–´ ìˆ˜í–‰
- ì•„ë£¨ì½” ë§ˆì»¤ê°€ ë¶€ì°©ëœ ì¥ì• ë¬¼ì„ ì¸ì‹í•˜ì—¬ ìœ„ì¹˜ë¥¼ íŒŒì•…í•˜ê³ , ë¡œë´‡ íŒ”ì„ í™œìš©í•´ ì œê±° ë™ì‘ ìˆ˜í–‰
- GUI ê¸°ë°˜ ì‚¬ìš©ì ì œì–´ì™€ ë””ì§€í„¸ íŠ¸ìœˆ í™˜ê²½ì—ì„œ ë°˜ë³µ ì‹¤í—˜ ê°€ëŠ¥

<br>

## ğŸ”§ ì£¼ìš” ê¸°ëŠ¥
- ğŸš¦ ì‹ í˜¸ë“± ì¸ì‹: ë¹¨ê°„ë¶ˆ ëŒ€ê¸°, ì´ˆë¡ë¶ˆ ì‹œ ì£¼í–‰ ì‹œì‘
- ğŸ›‘ ì°¨ë‹¨ë°” ì¸ì‹: ìˆ˜í‰/ìˆ˜ì§ ìƒíƒœì— ë”°ë¼ ì •ì§€ ë° ì´ë™ ê²°ì •
- ğŸª§ êµì°¨ë¡œ í‘œì§€íŒ ì¸ì‹: ì¢Œ/ìš° ë°©í–¥ ì§€ì‹œì— ë”°ë¥¸ ê²½ë¡œ ë³€ê²½
- âš™ï¸ ì†ë„ ì œì–´: ê°ì†/ê°€ì† í‘œì§€íŒì— ë”°ë¼ ì‹¤ì‹œê°„ ì†ë„ ì¡°ì ˆ
- ğŸ¯ ì•„ë£¨ì½” ë§ˆì»¤ ê¸°ë°˜ ì¥ì• ë¬¼ ì²˜ë¦¬: ì•„ë£¨ì½” ë§ˆì»¤ê°€ ë¶€ì°©ëœ ì¥ì• ë¬¼ ìœ„ì¹˜ íƒì§€ í›„ ì œê±° í–‰ë™ ìˆ˜í–‰
- ğŸ–¥ï¸ PyQt5 GUI ì œì–´: ê¸´ê¸‰ ì •ì§€ ë° ì£¼í–‰ ì¬ê°œ, ë¡œë´‡ ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë“± UI ì œê³µ
- ğŸ§ª ë””ì§€í„¸ íŠ¸ìœˆ ì‹¤í—˜ í™˜ê²½: ì¡°ëª…, ê±°ë¦¬, ê°ë„ ë³€í™”ì— ëŒ€í•œ ë°˜ë³µ í…ŒìŠ¤íŠ¸ ë° ì•Œê³ ë¦¬ì¦˜ íŠœë‹ ê°€ëŠ¥

![traffic light](./media/traffic_light.gif)
![level crossing](./media/level_crossing.gif)
![marker](./media/marker.gif)

<br>

## ğŸš€ ì „ì²´ ì‹¤í–‰ ìˆœì„œ

ğŸ“¦ íŒŒì¼ ë‹¤ìš´ë¡œë“œ
```
mkdir ~/DigitalTwin_AutoDriving/
cd ~/DigitalTwin_AutoDriving/
git clone https://github.com/checkjunghyeon/DigitalTwin_AutoDriving.git

$ cd ~/rokeypj_ws/src/
colcon build --symlink-install

$ cd ~/rokeyracing_ws/src/
colcon build --symlink-install
```

<br>

## âœ… PC Setup
**ì°¸ê³ **: https://emanual.robotis.com/docs/en/platform/turtlebot3/quick-start/
#### ğŸ”¹Install Dependent ROS 2 Packages
```
$ sudo apt install ros-humble-gazebo-*
$ sudo apt install ros-humble-cartographer
$ sudo apt install ros-humble-cartographer-ros
$ sudo apt install ros-humble-navigation2
$ sudo apt install ros-humble-nav2-bringup
```

#### ğŸ”¹Install TurtleBot3 Packages
```
$ source /opt/ros/humble/setup.bash
$ cd ~/turtlebot3_ws/src/
$ sudo apt install python3-colcon-common-extensions
$ cd ~/turtlebot3_ws
$ colcon build --symlink-install
$ echo 'source ~/turtlebot3_ws/install/setup.bash' >> ~/.bashrc
$ source ~/.bashrc
```

#### ğŸ”¹Environment Configuration
```
$ echo 'export ROS_DOMAIN_ID=30 #TURTLEBOT3' >> ~/.bashrc
$ echo 'source /usr/share/gazebo/setup.sh' >> ~/.bashrc
$ echo 'source /opt/ros/humble/setup.bash' >> ~/.bashrc
$ source ~/.bashrc
```

#### ğŸ”¹Install Simulation Package
```
$ cd ~/turtlebot3_ws/src/
$ git clone -b humble https://github.com/ROBOTIS-GIT/turtlebot3_simulations.git
$ cd ~/turtlebot3_ws && colcon build --symlink-install
```

#### ğŸ”¹Basic Setting
```
$ cd ~/turtlebot3_ws/src/
$ git clone https://github.com/ROBOTIS-GIT/turtlebot3_autorace.git
$ cd ~/turtlebot3_ws && colcon build --symlink-install

$ sudo apt install ros-humble-image-transport ros-humble-cv-bridge ros-humble-vision-opencv python3-opencv libopencv-dev ros-humble-image-pipeline
$ echo 'export GAZEBO_PLUGIN_PATH=$HOME/turtlebot3_ws/build/turtlebot3_gazebo:$GAZEBO_PLUGIN_PATH' >> ~/.bashrc
$ echo 'export TURTLEBOT3_MODEL=burger_cam' >> ~/.bashrc
```

<br>

## âœ… ì‹œë®¬ë ˆì´ì…˜ ë²„ì „(Gazebo)
#### ğŸ”¹System Running
```
$ cd ~/turtlebot3_ws/
$ source install/setup.bash

# Terminal 1
$ ros2 launch turtlebot3_gazebo turtlebot3_autorace_2020.launch.py

# Terminal 2
$ ros2 launch turtlebot3_autorace_camera intrinsic_camera_calibration.launch.py

# Terminal 3
$ ros2 launch turtlebot3_autorace_camera extrinsic_camera_calibration.launch.py

# Terminal 4
$ ros2 launch turtlebot3_autorace_detect detect_lane.launch.py calibration_mode:=True

# Terminal 5
$ ros2 launch turtlebot3_autorace_detect detect_signcombine.launch.py

# Terminal 6
$ ros2 launch turtlebot3_autorace_detect detect_level_crossing.launch.py

# Terminal 7
$ ros2 launch turtlebot3_autorace_mission control_lane.launch.py
```

```
# Terminal 8

$ cd ~/rokeyracing_ws/src/pyqt5_gui
$ python3 main_window.py
```

<br>

## âœ… ì‹¤í™˜ê²½ ë²„ì „

#### ğŸ”¹Bringup(TurtleBot3 SBC)
```
$ ros2 launch turtlebot3_manipulation_bringup hardware.launch.py
```

#### ğŸ”¹Simulation with MoveIt2!
```
$ ros2 launch turtlebot3_manipulation_moveit_config moveit_gazebo.launch.py
```
â¡ï¸â¡ï¸â¡ï¸ Goal Stateë¥¼ lane_tracking_03 ì„ íƒ í›„, Plan & Execute ë²„íŠ¼ í´ë¦­

<br>

#### ğŸ”¹System Running
```
# Terminal 1~2
$ cd ~/rokeypj_ws/
$ source install/setup.bash

# Terminal 1
$ ros2 launch aruco_yolo cameara.launch.py

# Terminal 2
$ ros2 launch aruco_yolo aruco_detect.launch.py
```

```
# Terminal 3~9
$ cd ~/rokeyracing_ws/
$ source install/setup.bash

# Terminal 3
$ ros2 launch turtlebot3_autorace_camera intrinsic_camera_calibration.launch.py

# Terminal 4
$ ros2 launch turtlebot3_autorace_camera extrinsic_camera_calibration.launch.py

# Terminal 5
$ ros2 launch turtlebot3_autorace_detect detect_lane.launch.py calibration_mode:=True

# Terminal 6
$ ros2 launch turtlebot3_autorace_detect detect_traffic_light_SIFT.launch.py

# Terminal 7
$ ros2 launch turtlebot3_autorace_detect detect_level_crossing.launch.py

# Terminal 8
$ ros2 launch turtlebot3_autorace_mission control_lane.launch.py
```

```
# Terminal 9
$ cd ~/rokeyracing_ws/src/pyqt5_gui
$ python3 main_window.py
```
